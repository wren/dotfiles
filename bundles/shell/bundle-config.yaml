- brew:
    - "sheldon" # Fast, configurable, shell plugin manager

- create:
    - ~/.config/sheldon

- link:
    # Sheldon
    ~/.config/sheldon/plugins.toml: plugins.toml

- shell:
    - description: Zsh setup
      command: |-
        if [[ -z "$ZDOTDIR" ]]; then
          sudo sh -c 'echo ZDOTDIR="${HOME}/.config/zsh" >> /etc/zsh/zshenv'
        fi

    - description: Sheldon Lock
      command: XDG_CONFIG_HOME=${XDG_CONFIG_HOME:-$HOME/.config} sheldon lock
